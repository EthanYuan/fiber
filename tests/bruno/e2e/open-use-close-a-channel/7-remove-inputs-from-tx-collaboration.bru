meta {
  name: remove some inputs from tx collaboration
  type: http
  seq: 7
}

post {
  url: {{NODE3_RPC_URL}}/ckb
  body: json
  auth: none
}

headers {
  Content-Type: application/json
  Accept: application/json
}

body:json {
  {
    "request": {
      "ControlPcnChannel": {
        "channel_id": "{{CHANNEL_ID}}",
        "command": {
          "TxCollaborationCommand": {
            "TxUpdate": {
              "transaction": "0x150200000c00000011020000050200001c000000200000006e00000072000000ce000000010200000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000202020202020202020202020202020202020202020202020202020202020202000000000000000000020000000000000000000000055efda384181483021b179ac566e90161be0eabe48d31a5e9c5535aee3ddce00000000000000000000000002290b4f74d5e50c32d089358cf2746c672a11b2ccbbdca5c5f4358c0bf408d6e00000000330100001000000071000000d200000061000000100000001800000061000000dc050000000000004900000010000000300000003100000002020202020202020202020202020202020202020202020202020202020202020414000000030303030303030303030303030303030303030361000000100000001800000061000000f401000000000000490000001000000030000000310000002a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a0014000000010101010101010101010101010101010101010161000000100000001800000061000000e803000000000000490000001000000030000000310000002a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a001400000002020202020202020202020202020202020202020400000004000000"
            }
          }
        }
      }
    }
  }
}

assert {
  res.status: eq 200
}

script:post-response {
  // Sleep for sometime to make sure current operation finishes before next request starts.
  await new Promise(r => setTimeout(r, 100));
}
