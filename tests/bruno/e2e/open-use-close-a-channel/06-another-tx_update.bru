meta {
  name: add another tx input
  type: http
  seq: 6
}

post {
  url: {{NODE1_RPC_URL}}/ckb
  body: json
  auth: none
}

headers {
  Content-Type: application/json
  Accept: application/json
}

body:json {
  {
    "request": {
      "ControlPcnChannel": {
        "channel_id": "{{CHANNEL_ID}}",
        "command": {
          "TxCollaborationCommand": {
            "TxUpdate": {
              "transaction": "0x3a0200000c000000360200002a0200001c000000200000009300000097000000f3000000260200000000000003000000020202020202020202020202020202020202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000002020202020202020202020202020202020202020202020202020202020202020000000000000000000200000000000000000000001e873dae852bfaf624768bd3869cb049c19ea7d9d136fbf3f693752ad8810ad5000000000000000000000000055efda384181483021b179ac566e90161be0eabe48d31a5e9c5535aee3ddce000000000330100001000000071000000d200000061000000100000001800000061000000dc050000000000004900000010000000300000003100000002020202020202020202020202020202020202020202020202020202020202020414000000030303030303030303030303030303030303030361000000100000001800000061000000f401000000000000490000001000000030000000310000002a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a0014000000010101010101010101010101010101010101010161000000100000001800000061000000e803000000000000490000001000000030000000310000002a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a2a001400000002020202020202020202020202020202020202020400000004000000"
            }
          }
        }
      }
    }
  }
}

assert {
  res.status: eq 200
}

script:post-response {
  // Sleep for sometime to make sure current operation finishes before next request starts.
  await new Promise(r => setTimeout(r, 100));
}
