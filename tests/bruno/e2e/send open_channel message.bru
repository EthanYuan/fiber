meta {
  name: send open_channel message
  type: http
  seq: 3
}

post {
  url: {{NODE3_RPC_URL}}
  body: json
  auth: none
}

headers {
  Content-Type: application/json
  Accept: application/json
}

body:json {
  {
    "request": {
      "Command": {
        "SendPcnMessage": {
          "peer_id": "{{NODE1_PEERID}}",
          "message": {
            "OpenChannel": {
              "chain_hash": "0x0000000000000000000000000000000000000000000000000000000000000000",
              "channel_id": "0x0000000000000000000000000000000000000000000000000000000000000000",
              "funding_amount": 123,
              "funding_fee_rate": 123,
              "commitment_fee_rate": 123,
              "max_tlc_value_in_flight": 123,
              "max_accept_tlcs": 123,
              "min_tlc_value": 123,
              "to_self_delay": 123,
              "funding_pubkey": "035be5e9478209674a96e60f1f037f6176540fd001fa1d64694770c56a7709c42c",
              "revocation_basepoint": "035be5e9478209674a96e60f1f037f6176540fd001fa1d64694770c56a7709c42c",
              "payment_basepoint": "035be5e9478209674a96e60f1f037f6176540fd001fa1d64694770c56a7709c42c",
              "delayed_payment_basepoint": "035be5e9478209674a96e60f1f037f6176540fd001fa1d64694770c56a7709c42c",
              "tlc_basepoint": "035be5e9478209674a96e60f1f037f6176540fd001fa1d64694770c56a7709c42c",
              "first_per_commitment_point": "035be5e9478209674a96e60f1f037f6176540fd001fa1d64694770c56a7709c42c",
              "second_per_commitment_point": "035be5e9478209674a96e60f1f037f6176540fd001fa1d64694770c56a7709c42c",
              "channel_flags": 123
            }
          }
        }
      }
    }
  }
}

assert {
  res.status: eq 200
}
